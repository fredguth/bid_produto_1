<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="pt-br" xml:lang="pt-br"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-99.9.9">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Frederico Guth">
<meta name="author" content="Gabriel Squeff">
<meta name="keywords" content="Plano de Trabalho, Produto 1, Cooperação Técnica BR-T1550 (BID/MS)">

<title>Plano de Trabalho</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
<script src="site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="site_libs/quarto-diagram/mermaid.css" rel="stylesheet">


<link rel="stylesheet" href="styles.css">
<meta name="citation_title" content="Plano de Trabalho">
<meta name="citation_keywords" content="Plano de Trabalho,Produto 1,Cooperação Técnica BR-T1550 (BID/MS)">
<meta name="citation_author" content="Frederico Guth">
<meta name="citation_editor" content="Gabriel Squeff">
<meta name="citation_publication_date" content="2024-02-01">
<meta name="citation_cover_date" content="2024-02-01">
<meta name="citation_year" content="2024">
<meta name="citation_online_date" content="2024-02-01">
<meta name="citation_language" content="pt-br">
<meta name="citation_technical_report_number" content="1">
<meta name="citation_reference" content="citation_title=Strategies for the development of volcanic hazard maps in monogenetic volcanic fields: The example of La Palma (Canary Islands);,citation_author=José Marrero;,citation_author=Alicia García;,citation_author=Manuel Berrocoso;,citation_author=Ángeles Llinares;,citation_author=Antonio Rodríguez-Losada;,citation_author=R. Ortiz;,citation_publication_date=2019-07;,citation_cover_date=2019-07;,citation_year=2019;,citation_doi=10.1186/s13617-019-0085-5;,citation_volume=8;,citation_journal_title=Journal of Applied Volcanology;">
<meta name="citation_reference" content="citation_title=Thirteenth general programme of work (GPW13): Methods for impact measurement;,citation_author=World Health Organization;,citation_publication_date=2020;,citation_cover_date=2020;,citation_year=2020;,citation_fulltext_html_url=https://pesquisa.bvsalud.org/portal/resource/pt/who-341371;,citation_inbook_title=Thirteenth general programme of work (GPW13): Methods for impact measurement;">
<meta name="citation_reference" content="citation_title=Uma “cidade” doente: Saúde do DF registrou 10 mil atestados em 4 meses;,citation_abstract=Para efeito de comparação, o número de baixas na pasta é maior do que o de moradores de duas regiões administrativas do DF, Fercal e Varjão;,citation_author=Samara Schwingel;,citation_publication_date=2023-09-30;,citation_cover_date=2023-09-30;,citation_year=2023;,citation_fulltext_html_url=https://www.metropoles.com/distrito-federal/uma-cidade-doente-saude-do-df-registrou-10-mil-atestados-em-4-meses;,citation_language=pt-BR;,citation_journal_title=Metrópoles;">
<meta name="citation_reference" content="citation_title=Missão economia: Um guia inovador para mudar o capitalismo;,citation_author=Mariana Mazzucato;,citation_publication_date=2022-05;,citation_cover_date=2022-05;,citation_year=2022;">
<meta name="citation_reference" content="citation_title=Form s-1 registration statement;,citation_author=undefined Snowflake;,citation_publication_date=2020;,citation_cover_date=2020;,citation_year=2020;,citation_publisher=https://www.sec.gov/Archives/edgar/data/1640147/000162828020013010/snowflakes-1.htm;">
<meta name="citation_reference" content="citation_title=The 2023 MAD (machine learning, artificial intelligence &amp;amp;amp; data) landscape – matt turck;,citation_author=Matt Turck;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_publisher=https://mattturck.com/MAD2023/;">
<meta name="citation_reference" content="citation_title=Drive: The surprising truth about what motivates us;,citation_author=Daniel H. Pink;,citation_publication_date=2011;,citation_cover_date=2011;,citation_year=2011;">
<meta name="citation_reference" content="citation_title=How amazon handles a new software deployment every second;,citation_author=Joe McKendrick;,citation_publication_date=2015-03;,citation_cover_date=2015-03;,citation_year=2015;,citation_publisher=https://www.zdnet.com/article/how-amazon-handles-a-new-software-deployment-every-second/; ZDNET;">
</head>

<body>

<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Plano de Trabalho</h1>
            <p class="subtitle lead"></p><p>Consultoria Individual de Ciência de Dados e Aprendizado de Máquina no Departamento de Economia da Saúde, Investimento e Desempenho do Ministério da Saúde</p><p></p>
          </div>

    
    <div class="quarto-title-meta-container">
      <div class="quarto-title-meta-column-start">
            <div class="quarto-title-meta-author">
          <div class="quarto-title-meta-heading">Autores</div>
          <div class="quarto-title-meta-heading">Afiliações</div>
          
                <div class="quarto-title-meta-contents">
            <p class="author">Frederico Guth <a href="mailto:frederico.guth@saude.gov.br" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        BID
                      </p>
                  </div>
                      <div class="quarto-title-meta-contents">
            <p class="author">Gabriel Squeff <a href="mailto:gabriel.squeff@saude.gov.br" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        CGES/DESID/MS
                      </p>
                  </div>
                    </div>
        
        <div class="quarto-title-meta">

                      
                <div>
            <div class="quarto-title-meta-heading">Data de Publicação</div>
            <div class="quarto-title-meta-contents">
              <p class="date">1 de fevereiro de 2024</p>
            </div>
          </div>
          
                
              </div>
      </div>
      <div class="quarto-title-meta-column-end quarto-other-formats-target">
      <div class="quarto-alternate-formats"><div class="quarto-title-meta-heading">Outros formatos</div><div class="quarto-title-meta-contents"><p><a href="relatorio.pdf"><i class="bi bi-file-pdf"></i>Typst (desid-report)</a></p></div></div></div>
    </div>


    <div>
      <div class="keywords">
        <div class="block-title">Palavras-chave</div>
        <p>Plano de Trabalho, Produto 1, Cooperação Técnica BR-T1550 (BID/MS)</p>
      </div>
    </div>

    <div class="quarto-other-links-text-target">
    </div>  </div>
</header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Índice</h2>
   
  <ul>
  <li><a href="#sec-intro" id="toc-sec-intro" class="nav-link active" data-scroll-target="#sec-intro"><span class="header-section-number">1</span> Introdução</a>
  <ul class="collapse">
  <li><a href="#motivação" id="toc-motivação" class="nav-link" data-scroll-target="#motivação"><span class="header-section-number">1.1</span> Motivação</a></li>
  <li><a href="#objetivos-do-projeto" id="toc-objetivos-do-projeto" class="nav-link" data-scroll-target="#objetivos-do-projeto"><span class="header-section-number">1.2</span> Objetivos do Projeto</a></li>
  <li><a href="#escopo-do-projeto" id="toc-escopo-do-projeto" class="nav-link" data-scroll-target="#escopo-do-projeto"><span class="header-section-number">1.3</span> Escopo do Projeto</a></li>
  <li><a href="#este-documento" id="toc-este-documento" class="nav-link" data-scroll-target="#este-documento"><span class="header-section-number">1.4</span> Este documento</a></li>
  </ul></li>
  <li><a href="#objetivos" id="toc-objetivos" class="nav-link" data-scroll-target="#objetivos"><span class="header-section-number">2</span> Objetivos</a></li>
  <li><a href="#sec-metodo" id="toc-sec-metodo" class="nav-link" data-scroll-target="#sec-metodo"><span class="header-section-number">3</span> Método</a>
  <ul class="collapse">
  <li><a href="#contexto" id="toc-contexto" class="nav-link" data-scroll-target="#contexto"><span class="header-section-number">3.1</span> Contexto</a></li>
  <li><a href="#definição-do-problema" id="toc-definição-do-problema" class="nav-link" data-scroll-target="#definição-do-problema"><span class="header-section-number">3.2</span> Definição do Problema</a></li>
  <li><a href="#abordagem-sociotécnica" id="toc-abordagem-sociotécnica" class="nav-link" data-scroll-target="#abordagem-sociotécnica"><span class="header-section-number">3.3</span> Abordagem sociotécnica</a></li>
  <li><a href="#arcabouço-data-mesh" id="toc-arcabouço-data-mesh" class="nav-link" data-scroll-target="#arcabouço-data-mesh"><span class="header-section-number">3.4</span> Arcabouço Data Mesh</a></li>
  <li><a href="#critérios-de-sucesso" id="toc-critérios-de-sucesso" class="nav-link" data-scroll-target="#critérios-de-sucesso"><span class="header-section-number">3.5</span> Critérios de Sucesso</a></li>
  <li><a href="#gestão-de-projeto" id="toc-gestão-de-projeto" class="nav-link" data-scroll-target="#gestão-de-projeto"><span class="header-section-number">3.6</span> Gestão de Projeto</a></li>
  </ul></li>
  <li><a href="#sec-result" id="toc-sec-result" class="nav-link" data-scroll-target="#sec-result"><span class="header-section-number">4</span> Resultados</a>
  <ul class="collapse">
  <li><a href="#entregáveis" id="toc-entregáveis" class="nav-link" data-scroll-target="#entregáveis"><span class="header-section-number">4.1</span> Entregáveis</a></li>
  <li><a href="#cronograma" id="toc-cronograma" class="nav-link" data-scroll-target="#cronograma"><span class="header-section-number">4.2</span> Cronograma</a></li>
  </ul></li>
  <li><a href="#sec-conclusao" id="toc-sec-conclusao" class="nav-link" data-scroll-target="#sec-conclusao"><span class="header-section-number">5</span> Conclusão</a></li>
  <li><a href="#bibliografia" id="toc-bibliografia" class="nav-link" data-scroll-target="#bibliografia">Bibliografia</a></li>
  </ul>
<div class="quarto-alternate-notebooks"><h2>Notebooks</h2><ul><li><a href="relatorio-preview.html"><i class="bi bi-journal-code"></i>Article Notebook</a></li></ul></div></nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">



  


<section id="sec-intro" class="level2 page-columns page-full" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="sec-intro"><span class="header-section-number">1</span> Introdução</h2>
<p>O presente projeto é uma iniciativa de 12 meses no âmbito da <em>Cooperação Técnica BR-T1550</em> do Ministério da Saúde com o Banco Inter-americano de Desenvolvimento (BID). Seu objetivo maior é fortalecer a capacidade de análise de dados do Departamento de Economia da Saúde, Investimento e Desempenho (DESID/MS), integrando técnicas avançadas de ciência de dados e preparando a organização para a adoção de modelos de inteligência artificial.</p>
<section id="motivação" class="level3 page-columns page-full" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="motivação"><span class="header-section-number">1.1</span> Motivação</h3>

<div class="no-row-height column-margin column-container"><div id="fig-pratos" class="lightbox quarto-figure quarto-figure-center quarto-float anchored" alt="jogador equilibrando pratos e perdendo gols">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pratos-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/pratos.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Figura&nbsp;1: Sistemas são meios e não fins."><img src="images/pratos.svg" class="img-fluid figure-img" style="width:80.0%" alt="jogador equilibrando pratos e perdendo gols"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pratos-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;1: Sistemas são meios e não fins.
</figcaption>
</figure>
</div></div><p>A Coordenação-Geral de Informações em Economia da Saúde (CGES/DESID) é uma área multidiprofissional e interdisciplinar responsável por importantes sistemas de registro de informações econômicas de saúde (SIOPS, BPS e ApuraSUS) e pelo uso desses dados para fornecer evidências econômicas para formulação de políticas, diretrizes e metas para a contínua melhoria do Sistema Único de Saúde (SUS).</p>
<blockquote class="blockquote">
<p>Os sistemas não são fins em si mesmos. Mais Economia!</p>
<p>— Gabriel Squeff</p>
</blockquote>
<p>Desde o início de 2023, a CGES tem investido em melhorias para automatizar e reduzir esforços na obtenção dos registros e aumentar a produção de evidências econômicas baseadas na análise de dados. Tais evidências são a missão principal da DESID e subsidiam a formulação de políticas, diretrizes e metas para que as ações e serviços de saúde sejam prestados de forma eficiente, equitativa e com qualidade para melhor acesso da população, atendendo aos princípios da universalidade, igualdade e integralidade da atenção à saúde estabelecidos constitucionalmente para o Sistema Único de Saúde (SUS).</p>
<p>A coordenação identificou a necessidade urgente e prioritária de fortalecer suas capacidades de análise de dados, uma vez que conta atualmente com reduzida equipe especializada na área, a maior parte das análises ainda é realizada apenas em planilhas e os processos de ingestão e transformação de dados são <em>ad-hoc</em> e não institucionalizados.</p>
<p>Essa necessidade se torna ainda mais crítica com a responsabilidade assumida pela CGES na produção futura do Sistema de Contas de Saúde (SHA), em cooperação com a a Organização para a Cooperação e Desenvolvimento Econômico (OCDE) e outras instituições governamentais brasileiras.</p>
<p>Por esses motivo, a CGES está criando o Núcleo de Engenharia de Dados da DESID (NErD) que o presente projeto ajudará a organizar.</p>
</section>
<section id="objetivos-do-projeto" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="objetivos-do-projeto"><span class="header-section-number">1.2</span> Objetivos do Projeto</h3>
<ul>
<li>Melhorar a qualidade e facilitar os processos de análise de dados da CGES;</li>
<li>Reduzir a dependência externa da CGES para a realização de suas funções;</li>
<li>Apoiar a produção do SHA de acordo com a metodologia da OCDE.</li>
<li>Melhorar os processos de desenvolvimento de produtos de dados.</li>
</ul>
</section>
<section id="escopo-do-projeto" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="escopo-do-projeto"><span class="header-section-number">1.3</span> Escopo do Projeto</h3>
<ul>
<li>Análise dos desafios, processos e capacidade técnica atual e desenvolvimento de uma estratégia de utilização de técnicas de Ciência de - Dados e Aprendizado de Máquinas para melhoria dos processos da CGES.</li>
<li>Desenvolvimento de plano de infraestrutura técnica e capacitação da equipe.</li>
<li>Desenvolvimento de metodologia de desenvolvimento de produtos de dados.</li>
<li>Desenvolvimento de proposta de portfólio de produtos de dados.</li>
<li>Desenvolvimento de produtos de dados: esteiras de dados, relatórios, indicadores, datasets etc.</li>
</ul>
</section>
<section id="este-documento" class="level3" data-number="1.4">
<h3 data-number="1.4" class="anchored" data-anchor-id="este-documento"><span class="header-section-number">1.4</span> Este documento</h3>
<table class="table">
<colgroup>
<col style="width: 37%">
<col style="width: 62%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: center;"><strong>Contrato</strong></td>
<td style="text-align: left;">Cooperação Técnica BR-T1550</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>Projeto</strong></td>
<td style="text-align: left;">Consultoria Individual de Ciência de Dados e Aprendizado de Máquina no Departamento de Economia da Saúde, Investimento e Desempenho do Ministério da Saúde</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>Produto</strong></td>
<td style="text-align: left;">Entregável 1 - Plano de Trabalho</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="objetivos" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="objetivos"><span class="header-section-number">2</span> Objetivos</h2>
<p>O presente <em>Plano de Trabalho</em> tem como objetivos:</p>
<ul>
<li>Contextualizar o Projeto (<a href="#sec-intro">1 Introdução</a>)</li>
<li>Apresentar e justificar a abordagem sociotécnica que será adotada (<a href="#sec-metodo">3 Método</a>)</li>
<li>Descrever os entregáveis e o cronograma de entregas (<a href="#sec-result">4 Resultados</a>)</li>
<li>Estabelecer expectativas e critérios de sucesso do Projeto (<a href="#sec-conclusao">5 Conclusão</a>)</li>
</ul>
</section>
<section id="sec-metodo" class="level2 page-columns page-full" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="sec-metodo"><span class="header-section-number">3</span> Método</h2>
<section id="contexto" class="level3 page-columns page-full" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="contexto"><span class="header-section-number">3.1</span> Contexto</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/MAD2023.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="A imensidão do confuso mercado de ferramentas analíticas."><img src="images/MAD2023.png" class="img-fluid figure-img" alt="Centenas de logotipos de empresas e produtos que oferecem soluções para análise de dados."></a></p>
<figcaption>A imensidão do confuso mercado de ferramentas analíticas.</figcaption>
</figure>
</div>
<p>Estima-se que o investimento em ferramentas analíticas tenha superado 80 bilhões de dólares em 2023<span class="citation" data-cites="snowflake2020s1">(<a href="#ref-snowflake2020s1" role="doc-biblioref">Snowflake 2020</a>)</span>. Muitas organizações já estão na terceira geração de suas <em>plataformas de dados</em>, com a esperança de obter <em>insights</em> e tomar decisões rápidas baseadas em evidências. Poucas, porém, podem se dizer verdadeiramente <em>data-driven</em>.</p>
<div id="quadro-plataformas" class="block" data-fill="yellow.lighten(90%)" data-outset="1em" data-radius="6pt" width="70%">
<p><strong>Datawarehouses e BI (primeira geração):</strong> consolidando dados de diversas fontes, essa estratégia foca na limpeza e verificação dos dados antes de torná-los disponíveis. Essa centralização enfrenta desafios de escalabilidade à medida que as fontes de dados aumentam. Principais artefatos são relatórios e painéis (<em>dashboards</em>). Tabelas e relatórios complicados entendidos por poucos especialistas, impacto limitado nos negócios.</p>
<p><strong>Big Data e Data Lakes (segunda geração):</strong> Como resposta aos gargalos da geração anterior e aproveitando a redução de custos de <em>hardware</em>, <em>Data Lakes</em> armazenam dados em arquivos, com transformações ocorrendo no momento do consumo. Embora ofereça flexibilidade, esta abordagem apresenta desafios quanto à qualidade e documentação dos dados.</p>
<p><strong>Plataformas em Nuvem (terceira geração):</strong> semelhante à geração anterior, mas modernizada com:</p>
<ul>
<li><strong>(a)</strong> dados em tempo real (<em>streams</em>);</li>
<li><strong>(b)</strong> processamento unificado de dados em <em>batch</em> e <em>stream</em>; e</li>
<li><strong>(c)</strong> uso intensivo da nuvem. Embora aborde falhas anteriores, ainda carrega problemas das gerações passadas.</li>
</ul>
</div>
<p>Entender por que tantas implantações de plataformas de dados não entregam os resultados esperados é essencial para assegurar o sucesso deste projeto.</p>

<div class="no-row-height column-margin column-container"><div id="fig-missing-leg" class="lightbox quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-missing-leg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/missing_leg.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Figura&nbsp;2: Investimento em capacidade tecnológica, ferramentas e know-how, é condição necessária mais não suficiente para se tornar data-driven."><img src="images/missing_leg.svg" class="img-fluid figure-img" style="width:90.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-missing-leg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;2: Investimento em capacidade tecnológica, ferramentas e <em>know-how</em>, é condição necessária mais não suficiente para se tornar <em>data-driven</em>.
</figcaption>
</figure>
</div></div><p>Em nossa experiência, muitos projetos pecam por acreditar que basta investimento em tecnologia. Investimento em capacidade tecnológica, ferramentas e <em>know-how</em>, é condição necessária mas não suficiente para uma organização se tornar <em>data-driven</em> <a href="#fig-missing-leg" class="quarto-xref">Figura&nbsp;2</a>.</p>
<p>Para compreensão do método a ser adotado no presente projeto, partiremos da definição do problema, explorando-o em todas as suas dimensões.</p>
</section>
<section id="definição-do-problema" class="level3 page-columns page-full" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="definição-do-problema"><span class="header-section-number">3.2</span> Definição do Problema</h3>
<section id="servir-aprender-e-evoluir" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="servir-aprender-e-evoluir">Servir, Aprender e Evoluir</h4>

<!-- Todo serviço deve transformar seu _usuário_ para melhor [^usuario]; um _fluxo de valor_ (@fig-servico) que pode envolver diversas etapas e atendimentos [@quadro-transacional-vs-analitico]. -->
<div class="no-row-height column-margin column-container"><div id="fig-servico" class="lightbox quarto-figure quarto-figure-center quarto-float anchored" alt="Fluxo de valor da organização para o usuário, serviço, e do usuário para a organização, feedback." data-fig-column="margin">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-servico-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/servico.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="Figura&nbsp;3: Serviço como fluxo de valor e feedback; um ciclo."><img src="images/servico.svg" class="img-fluid figure-img" style="width:90.0%" data-fig-column="margin" alt="Fluxo de valor da organização para o usuário, serviço, e do usuário para a organização, feedback."></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-servico-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;3: Serviço como fluxo de valor e feedback; um ciclo.
</figcaption>
</figure>
</div><p><sup>1</sup>&nbsp;<em>Usuário</em> Pessoa ou organização que se beneficia de um serviço. Também chamado de <em>cliente</em>.</p></div><p>Todo serviço deve transformar seu <em>usuário</em> para melhor <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>; um <em>fluxo de valor</em> que pode envolver diversas etapas e atendimentos (<a href="#fig-servico" class="quarto-xref">Figura&nbsp;3</a>). O SUS atua diariamente para melhorar a saúde dos brasileiros, milhares de vezes por dia. A importância de <em>servir</em> (atender) está fortemente imbuída na cultura do Ministério.</p>
<p>Cada <em>transação</em> <a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> deixa um rastro de dados. A imensa quantidade de dados gerados pelo SUS é visto por alguns como um ativo: essa é uma visão equivocada. Ativos têm valor quando guardados, mas <em>dados</em> só tem valor quando usados.</p>
<div class="no-row-height column-margin column-container"><p><sup>2</sup>&nbsp;Uma transação é uma execução do serviço, um atendimento.</p></div><div id="quadro-plataformas" class="block" data-fill="yellow.lighten(90%)" data-outset="1em" data-radius="6pt" width="70%">
<p><strong>Dados transacionais:</strong> dados primários que sustentam o funcionamento dos serviços diretos ao usuário e mantêm seu estado atual. Também conhecidos como <em>dados operacionais</em>.</p>
<p><strong>Dados analíticos:</strong> dados derivados das bases transacionais (secundários), fornecem visão agregada e histórica dos serviços.</p>
</div>

<div class="no-row-height column-margin column-container"><div id="fig-evolucao" class="lightbox quarto-figure quarto-figure-center quarto-float anchored" alt="Centenas de logotipos de empresas e produtos que oferecem soluções para análise de dados.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-evolucao-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/evolucao.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-5" title="Figura&nbsp;4: Evolução contínua."><img src="images/evolucao.svg" class="img-fluid figure-img" style="width:50.0%" alt="Centenas de logotipos de empresas e produtos que oferecem soluções para análise de dados."></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-evolucao-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;4: Evolução contínua.
</figcaption>
</figure>
</div></div><p>O <em>feedback</em> do usuário, direto e indireto (via indicadores), fornece informações cruciais para aprimorar o serviço: um fluxo de valor no sentido contrário, do usuário para o serviço. O propósito do SUS vai além de atender o usuário no momento presente, mas também envolve a <em>evolução contínua</em> do serviço (<a href="#fig-evolucao" class="quarto-xref">Figura&nbsp;4</a>,) baseada em evidências. Quanto mais rápido o ciclo de <em>servir</em>, <em>analizar</em> e <em>aprender</em>, mais hipóteses podem ser testadas e mais rápido o serviço evolui.</p>
</section>
<section id="sec-prisao" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="sec-prisao">Desafios Organizacionais</h4>

<div class="no-row-height column-margin column-container"><div id="fig-grinder" class="lightbox quarto-figure quarto-figure-center quarto-float anchored" alt="Triângulo com propósito, autonomia e maestria em cada vértice.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-grinder-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/grinder.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="Figura&nbsp;5: O “sistema” moendo pessoas. Arte de Gerald Scarfe para o filme The Wall (1982)."><img src="images/grinder.png" class="img-fluid figure-img" style="width:90.0%" alt="Triângulo com propósito, autonomia e maestria em cada vértice."></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-grinder-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;5: O “sistema” moendo pessoas. Arte de <em>Gerald Scarfe</em> para o filme <em>The Wall</em> (1982).
</figcaption>
</figure>
</div></div><blockquote class="blockquote">
<p>“Nos primeiros quatro meses de 2023, mais de 10,3 mil servidores [1/3 do quadro] da Secretaria de Saúde do Distrito Federal (SES-DF) precisaram de atestados de afastamento do trabalho. Grande parte desses servidores são técnicos em enfermagem” – <span class="citation" data-cites="Schwingel2023">Schwingel (<a href="#ref-Schwingel2023" role="doc-biblioref">2023</a>)</span>.</p>
</blockquote>
<p>Organizações doentes adoecem pessoas. No serviço público, são servidoras <em>da ponta</em>, que tem contato direto com usuário, as que mais adoecem. <em>O que está acontecendo?</em></p>

<div class="no-row-height column-margin column-container"><div id="fig-paredes" class="lightbox quarto-figure quarto-figure-center quarto-float anchored" alt="times separados tentando sem sucesso coordenar um serviço">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-paredes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/paredes3.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-7" title="Figura&nbsp;6: Muros organizacionais."><img src="images/paredes3.svg" class="img-fluid figure-img" style="width:90.0%" alt="times separados tentando sem sucesso coordenar um serviço"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-paredes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6: Muros organizacionais.
</figcaption>
</figure>
</div></div><p>Organizações públicas e privadas ainda são majoritariamente estruturadas em silos funcionais (<a href="#fig-paredes" class="quarto-xref">Figura&nbsp;6</a>), com equipes especializadas em áreas como negócio, tecnologia, jurídico, controle; herança da burocracia de Weber e da <em>gestão científica</em> de Taylor do início do século XX.</p>
<p>Esta estrutura exige que cada serviço seja coordenado entre equipes distintas, com diferentes hierarquias, prioridades e linguagens. A dinâmica lembra a brincadeira da <em>corrida de três pernas</em> das <em>gincanas infantis</em>, onde se amarra o pé de um criança ao de outra: a falta de alinhamento entre equipes resulta em atrasos e falhas, fazendo com que o conjunto mova-se ao ritmo imposto pela equipe mais lenta.</p>
<p>Os servidores <em>da ponta</em> atendem os <em>usuários reais</em>, enfrentam a realidade; os servidores <em>meio</em> atendem os servidores mais à ponta, <em>usuários internos</em>. Estar na ponta traz clareza da importância da sua contribuição individual, <strong>senso de propósito</strong>. Ao mesmo tempo, exarceba a <strong>sensação de impotência</strong> diante de uma realidade que não se tem total autonomia para mudar.</p>
<blockquote class="blockquote">
<p>O servidor na ponta está preso entre a realidade e o muro organizacional.</p>
</blockquote>

<div class="no-row-height column-margin column-container"><div id="fig-danpink" class="lightbox quarto-figure quarto-figure-center quarto-float anchored" alt="Triângulo com propósito, autonomia e maestria em cada vértice.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-danpink-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/danpink3.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-8" title="Figura&nbsp;7: Auto-motivação segundo Dan Pink (Figura inspirada em @sketchplanations)"><img src="images/danpink3.svg" class="img-fluid figure-img" style="width:90.0%" alt="Triângulo com propósito, autonomia e maestria em cada vértice."></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-danpink-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;7: Auto-motivação segundo Dan Pink (Figura inspirada em <em>@sketchplanations</em>)
</figcaption>
</figure>
</div></div><p>Dan Pink argumenta que a auto-motivação é impulsionada por três elementos fundamentais: autonomia, maestria e propósito <span class="citation" data-cites="pink2010drive">(<a href="#ref-pink2010drive" role="doc-biblioref">Pink 2011</a>)</span>. Autonomia refere-se à capacidade de controlar o próprio trabalho; maestria é o desejo de evoluir continuamente em algo que importa; e propósito diz respeito à conexão do trabalho com algo maior e mais significativo. Pink sugere que quando esses três elementos estão presentes, os indivíduos são mais motivados, engajados e produtivos.</p>
<p>Em certa medida, a organização em silos produz a antítese das condições para a automotivação.</p>
</section>
<section id="sec-missoes" class="level4">
<h4 class="anchored" data-anchor-id="sec-missoes">Evolução orientada a missões</h4>
<p>A gestão orientada a evidências estabelece apenas o método da resposta, mas não o que perguntar, para onde evoluir. Para isso é primordial definir escolhas estratégicas, decisões políticas.</p>
<p>O conceito de “<em>missões</em>” em políticas públicas tem sido popularizado pela economista Mariana Mazzucato <span class="citation" data-cites="Mazzucato2022">(<a href="#ref-Mazzucato2022" role="doc-biblioref">Mazzucato 2022</a>)</span>. Ela destaca a importância de definir objetivos claros, ambiciosos e mensuráveis para orientar a inovação, metas <em>moonshot</em>.</p>
<div id="quadro-plataformas" class="block" data-fill="yellow.lighten(90%)" data-outset="1em" data-radius="6pt" width="70%">
<p><strong>Moonshot:</strong> Meta ambiciosa, que requer inovação radical para ser atingida. Remete ao projeto Apollo que ambicionou levar humanos à Lua. Difere-se da missão-maior de servir por ser uma missão-meta, com prazo e escopo definidos.</p>
<p><em>Ex.</em> Meta “Três Bilhões” da OMS: <span class="citation" data-cites="gpw13">Organization (<a href="#ref-gpw13" role="doc-biblioref">2020</a>)</span></p>
<ul>
<li>1 bilhão de pessoas a mais com cobertura universal de saúde.</li>
<li>1 bilhão de pessoas a mais protegidas de emergências de saúde.</li>
<li>1 bilhão de pessoas a mais gozando de melhor saúde e bem-estar.</li>
</ul>
</div>
<p>A ambição de uma meta <em>moonshot</em> envolve essencialmente risco. Elas definem concretamente “<em>onde</em>” se quer chegar, mas não “<em>como</em>”. Para o “<em>como</em>” existem “apostas”, caminhos-hipótese que se pode testar. Algumas hipóteses vão falhar, mas o aprendizado é parte do processo.</p>
</section>
<section id="sec-cultura" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="sec-cultura">Cultura organizacional</h4>
<p>Uma grande contribuição do arcabouço de missões apresentado por Mazzucato é lembrar no debate econômico que mudança é feita por pessoas e que as pessoas são motivadas por propósitos (<a href="#fig-danpink" class="quarto-xref">Figura&nbsp;7</a>). Para criar um ambiente em que os indivíduos se auto-motivem, é importante criar uma cultura organizacional adequada. Para isso, é importante pensar em governança.</p>
<div id="fig-governanca" class="lightbox quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center" alt="gráfico relacionando alinhamento com autonomia">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-governanca-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/alinha_autonomia.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-9" title="Figura&nbsp;8: Governança: Alinhamento e Autonomia."><img src="images/alinha_autonomia.svg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%" alt="gráfico relacionando alinhamento com autonomia"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-governanca-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;8: Governança: Alinhamento e Autonomia.
</figcaption>
</figure>
</div>
<p>Governança é o conjunto de políticas, procedimentos, padrões e responsabilidades estabelecidos para orientar e monitorar a gestão e o uso de recursos (incluindo dados, tecnologia e processos) de maneira eficaz e alinhada com os objetivos da organização. A governança garante que haja clareza nas decisões, responsabilidades e que os riscos sejam gerenciados adequadamente, protegendo os interesses de todas as partes envolvidas.</p>
<p>A relação entre <em>alinhamento</em> e <em>autonomia</em> entre equipes e pessoas determina a governança em uma organização. Quando há pouco alinhamento e pouca autonomia, o resultado tende a ser a uma cultura apática, onde a falta de direção clara e a restrição na tomada de decisão geram desengajamento e falta de iniciativa. Em contraste, um cenário de muito alinhamento com pouca autonomia caracteriza a autocracia, que limita a inovação e a velocidade das mudanças. Por outro lado, pouco alinhamento combinado com muita autonomia pode levar a uma forma de anarquia, onde há esforços descoordenados e ineficiência.</p>
<p>Muros organizacionais (<a href="#sec-prisao" class="quarto-xref">Seção&nbsp;3.2.2</a>) favorecem o surgimento de <em>autocracia</em> dentro dos silos e <em>anarquia</em> entre silos.</p>
<p>O ideal é uma cultura ágil, de muito alinhamento e muita autonomia, que propicia decisões rápidas, bem embasadas e invadoras. Para tanto, é preciso romper com silos e montar equipes multifuncionais, autônomas e responsáveis por um ou mais serviços do início ao fim e alinhadas à estragégia maior.</p>

<div class="no-row-height column-margin column-container"><div id="fig-missao" class="lightbox quarto-figure quarto-figure-center quarto-float anchored" alt="Triângulo com missão, governança e capacidade.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-missao-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/missao.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-10" title="Figura&nbsp;9: O arcabouço socio-técnico"><img src="images/missao.svg" class="img-fluid figure-img" style="width:90.0%" alt="Triângulo com missão, governança e capacidade."></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-missao-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;9: O arcabouço socio-técnico
</figcaption>
</figure>
</div></div></section>
</section>
<section id="abordagem-sociotécnica" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="abordagem-sociotécnica"><span class="header-section-number">3.3</span> Abordagem sociotécnica</h3>
<p>A análise do problema torna transparente que além de direcionamento estratégico (missão) e capacidade técnica, a evolução contínua de um serviço depende de uma cultura organizacional adequada, ou seja, depende de aspectos sociais. Esse é o argumento central da teoria sociotécnica, cujas lições foram descobertas, esquecidas e redescobertas várias vezes com diferentes nomes ao longo dos anos, das minas de carvão de Yorkshire, ao vale do silício.</p>
<section id="das-minas-de-carvão-de-yorkshire-ao-spotify" class="level4">
<h4 class="anchored" data-anchor-id="das-minas-de-carvão-de-yorkshire-ao-spotify">Das minas de carvão de Yorkshire ao Spotify</h4>
<p>No final dos anos 1940, o carvão era a principal fonte de energia da Inglaterra. Para apoiar a recostrução industrial pós-guerra, era essencial aumentar a sua produção e reduzir custos. Com esse intuito, introduziram-se novas máquinas nas minas de Yorkshire. A produtividade, contudo, diminuiu.</p>
<p>Chamados para investigar o problema, pesquisadores do Instituto Tavistock descobriram que as novas máquinas alteraram a dinâmica e cooperação entre os mineiros, que antes trabalhavam em equipes multifuncionais e autônomas com foco na resolução de problemas e alto grau de adaptabilidade.</p>
<p>Dessa observação nasceu a teoria sociotécnica, que enfatiza a importância de equilibrar tecnologia e relações humanas. Essa lição foi ora esquecida, ora redescoberta em diferentes contextos:</p>
<ul>
<li>No esforço de guerra americano que dobrou o PIB em 4 anos;</li>
<li>Na reconstrução do devastado Japão com o que se tornou conhecido como sistema Toyota de produção (Lean Manufacturing);</li>
<li>No movimento de Lean Startups e DevOps do Vale do Silício que culminaram no que hoje é referido como modelo Spotify.</li>
</ul>
<table class="table">
<caption>Os 10 princípios sociotécnicos</caption>
<colgroup>
<col style="width: 30%">
<col style="width: 69%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Princípio</th>
<th style="text-align: left;">Descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Foco no Valor</strong></td>
<td style="text-align: left;">Focar em entregar valor aos usuários.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Times Multifuncionais</strong></td>
<td style="text-align: left;">Colaboração entre diferentes especialidades para agilizar e melhorar a qualidade do serviço.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Autonomia</strong></td>
<td style="text-align: left;">Empoderar equipes para tomar decisões e falhar.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Alinhamento</strong></td>
<td style="text-align: left;">Garantir alinhamento de padrões e objetivos comuns.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Entrega Contínua</strong></td>
<td style="text-align: left;">Automatizar com toque humano, reduzindo o tempo entre pedido e feedback do usuário.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Feedback Contínuo</strong></td>
<td style="text-align: left;">Utilizar o feedback dos usuários em ciclos rápidos de melhoria.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Melhoria Contínua</strong></td>
<td style="text-align: left;">Otimizar constantemente processos e serviços para alcançar excelência operacional.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Eliminação de Desperdícios</strong></td>
<td style="text-align: left;">Eliminar atividades que não agregam valor.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Comunicação Aberta</strong></td>
<td style="text-align: left;">Promover a transparência e compartilhamento de informações.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Liderança Servil</strong></td>
<td style="text-align: left;">Apoiar, capacitar e servir às equipes, em vez de direcioná-las.</td>
</tr>
</tbody>
</table>
</section>
<section id="devops-abordagem-sociotécnica-no-desenvolvimento-de-software" class="level4">
<h4 class="anchored" data-anchor-id="devops-abordagem-sociotécnica-no-desenvolvimento-de-software">DevOps: Abordagem sociotécnica no desenvolvimento de software</h4>
<p>No início do milênio, a prestação de serviços via web começou a se sofisticar e <em>sites</em> passaram a ficar cada vez mais parecidos com <em>aplicações</em>.</p>
<p>Em grande medida, a <em>web</em>, que foi criada como uma plataforma para publicação e consumo de documentos (páginas), é um ambiente hostil para desenvolvimento de _aplicações. Desenvolver <em>webapps</em> envolve coordenar trabalhos muito distintos que vão desde aspectos visuais e de usabilidade (UI/UX), lidar com a diversidade de navegadores e suas respectivas compatibilidades tecnológicas, interoperabilidade com bancos de dados e sistemas de terceiro e questões de manutenção da infra-estrutura.</p>
<p>A entrega de valor acontece quando novas <em>funcionalidades</em> são publicadas e usadas pelos usuários. A evolução do serviço e ganho de competitividade depende de acelerar o ciclo de lançamento, análise e aprendizado. Ainda assim, mesmo entre os líderes de mercado, este era um processo lento, arriscado e custoso e o desenvolvimento de aplicações web envolvia lidar com diversos desafios:</p>
<ol type="1">
<li><p><strong>Silos entre Desenvolvimento e Operações</strong>: As equipes de desenvolvimento e operações (negócios) trabalhavam frequentemente em isolamento, com pouca colaboração ou comunicação entre elas. Isso levava a uma transferência ineficaz do software do desenvolvimento para a produção, com operações lutando para gerenciar e manter aplicativos que não compreendiam completamente.</p></li>
<li><p><strong>Ciclos de Lançamento Lentos</strong>: Os métodos de desenvolvimento de software tradicionais, como o modelo em cascata, dominavam, levando a ciclos de lançamento longos e inflexíveis. Isso dificultava a capacidade das empresas de responder rapidamente às mudanças no mercado ou às necessidades dos clientes.</p></li>
<li><p><strong>Falta de Automação</strong>: A automação em áreas como testes, integração e implantação de software era limitada ou inexistente. Isso resultava em processos manuais propensos a erros, atrasos significativos e uma qualidade de produto inconsistente.</p></li>
<li><p><strong>Dificuldades de Escalabilidade e Estabilidade</strong>: Com a popularidade crescente da internet e das aplicações web, as organizações enfrentavam desafios significativos em escalar e manter a estabilidade de seus sistemas sob demanda variável. A falta de práticas e ferramentas adequadas para gerenciar a infraestrutura de TI complicava esses problemas.</p></li>
<li><p><strong>Desafios de Qualidade e Confiabilidade</strong>: A falta de práticas contínuas de integração e testes levava frequentemente a bugs de software e problemas de confiabilidade que só eram descobertos após o lançamento. Isso afetava negativamente a experiência do usuário e a reputação das empresas.</p></li>
<li><p><strong>Resistência à Mudança</strong>: Existia uma resistência cultural significativa à mudança dentro das organizações. Isso incluía a hesitação em adotar novas tecnologias e práticas, bem como a dificuldade em quebrar os silos organizacionais existentes.</p></li>
</ol>
<p>Por volta dos anos 2000, a Amazon implantava melhoria em sua plataforma de e-commerce em ciclos que duravam de muitos meses e até anos. Já em 2015, o varejista implantava mais de 50 milhões de melhorias por ano (uma implantação por segundo)<span class="citation" data-cites="HowAmazon">(<a href="#ref-HowAmazon" role="doc-biblioref">McKendrick 2015</a>)</span>. Em 15 anos a empresa mudou totalmente os seus processos e as inovações criadas no processo deram origem a todo uma nova linha de negócios, a AWS (Amazon Web Services).</p>
<p>O lançamento do <em>framework</em> Rails em 2004 é um marco na trajetória de disseminação de práticas culturais para o desenvolvimento de aplicações web. Surge a ideia de <strong>convenção sobre configuração</strong>, ou seja, a adoção de padrões de processo que tornam possível automatizar tarefas do desenvolvimento.</p>
<p>Já no final dos anos 2000, início dos anos 2010, os aspectos sociotécnicos começaram a ser disseminados e conhecidos como <strong>DevOps</strong> a integração dos silos de desenvolvimento e operações.</p>
<p>Hoje o desenvolvimento web é muito mais engenharia que arte e processos de:</p>
<ul>
<li>contole de versão;</li>
<li>testes automatizados;</li>
<li>integração contínua (Continuous Integration, CI);</li>
<li>implantação contínua (Continuous Deployment, CD);</li>
</ul>
<p>estão bastante disseminados em toda a indústria.</p>
</section>
<section id="dataops-abordagem-socio-técnica-para-dados" class="level4">
<h4 class="anchored" data-anchor-id="dataops-abordagem-socio-técnica-para-dados">DataOps: Abordagem socio-técnica para Dados</h4>
<p>Nos últimos poucos anos, as equipes responsáveis de gestão e análise de dados despertaram para as vantagens da abordagem socio-técnica e começaram a desenvolver e disseminar metodologia ágeis similares ao DevOps. Esse movimento passou a ser chamado <strong>DataOps</strong>.</p>
</section>
</section>
<section id="arcabouço-data-mesh" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="arcabouço-data-mesh"><span class="header-section-number">3.4</span> Arcabouço Data Mesh</h3>
<p>O presente projeto pretende aplicar uma metodologia sociotécnica chamada <strong>Data Mesh</strong>, proposta por Zhamak Dehghani em 2019 e adotada por empresas como Netflix e PayPal.</p>
<p>Data Mesh propõe uma arquitetura de dados descentralizada, com foco no design orientado ao domínio e auto-serviço. Inspirado em teorias de design orientado ao domínio e topologias de equipe, o Data Mesh busca escalar a análise de dados através da descentralização, transferindo a responsabilidade dos dados de equipes especialistas em dados para as equipes de domínio (áreas de negócio), com suporte de uma equipe de plataforma de dados.</p>
<p>Data Mesh é baseada em quadtro princípios fundamentais:</p>
<ol type="1">
<li>Dados como Produto;</li>
<li>Propriedade do Domínio;</li>
<li>Plataforma Auto-Serviço de Dados;</li>
<li>Governança Compartilhada.</li>
</ol>
<section id="dados-como-produto" class="level4">
<h4 class="anchored" data-anchor-id="dados-como-produto">Dados como Produto</h4>
<p>Encarar os dados como um produto implica tratá-los com o mesmo nível de cuidado e atenção dedicados ao desenvolvimento de produtos de software.</p>
<p>Um dado tem valor quando usado e para que seja usado ele precisa ter algumas características identificadas pelo acrônimo <em>FAIR</em>:</p>
<table class="table">
<colgroup>
<col style="width: 27%">
<col style="width: 72%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Princípio FAIR</th>
<th style="text-align: left;">Descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Localizável</td>
<td style="text-align: left;">Os dados devem ser facilmente descobertos e endereçáveis tanto por humanos quanto por computadores.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Acessível</td>
<td style="text-align: left;">Os dados devem ser nativamente acessíveis e independentes de sistemas e formatos, permitindo o acesso através de diversas plataformas e ferramentas.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Interoperável</td>
<td style="text-align: left;">Os dados devem ser capazes de se integrar com outros conjuntos de dados, aplicações e processos de trabalho para análise, armazenamento e processamento.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Reutilizável</td>
<td style="text-align: left;">Os dados devem possuir valor intrínseco, ser confiáveis e estruturados de forma que suportem sua reutilização em diferentes contextos.</td>
</tr>
</tbody>
</table>
<p>Além dessas características, é importante a <em>codificação</em> de todo o processo de transformação dos dados, o que permite a criação de processos automáticos de documentação, testes e publicação dos dados.</p>
</section>
<section id="propriedade-do-domínio" class="level4">
<h4 class="anchored" data-anchor-id="propriedade-do-domínio">Propriedade do Domínio</h4>
<p>Este princípio enfatiza a importância de atribuir a autonomia e responsabilidade dos dados às equipes que estão intimamente ligadas ao domínio específico do negócio. A ideia é que as equipes de domínio, que possuem conhecimento especializado sobre seus respectivos setores, estão melhor posicionadas para gerenciar, curar e atualizar os dados de maneira eficaz. Isso promove uma maior qualidade e relevância dos dados, já que a equipe de domínio entende as nuances e requisitos específicos dos dados que gerencia.</p>
<p>No contexto do Projeto, os domínios da CGES são:</p>
<ul>
<li>Orçamentos</li>
<li>Preços</li>
<li>Custos</li>
<li>SHA</li>
</ul>
</section>
<section id="governança-compartilhada" class="level4">
<h4 class="anchored" data-anchor-id="governança-compartilhada">Governança Compartilhada</h4>
<p>Este princípio enfatiza a importância de manter padrões e políticas de dados coesos em todos os domínios de uma organização e até entre organizações.</p>
<p>Além de facilitar a interoperabilidade e automação, a adoção de <strong>convenções</strong> facilita a comunicação entre equipes e reduz a quantidade de decisões de pouca relevância que precisam ser tomadas.</p>
<p>No contexto deste projeto, além de buscar criar políticas de governança compartilhadas entre as coordenações da DESID, buscaremos alinhar nossas políticas a outras áreas como o DEMAS e às políticas da Infra-estrutura Nacional de Dados Abertos (INDA).</p>
</section>
<section id="infra-estrutura-de-auto-serviço" class="level4">
<h4 class="anchored" data-anchor-id="infra-estrutura-de-auto-serviço">Infra-estrutura de auto-serviço</h4>
<p>A ideia de uma plataforma de dados auto-serviço é fornecer às equipes as ferramentas e capacidades necessárias para acessar, manipular e analisar dados sem depender excessivamente de suporte técnico especializado. Isso democratiza o acesso aos dados e capacita os usuários finais, permitindo que eles realizem tarefas de dados de forma independente, com agilidade e eficiência. Essas plataformas são projetadas para serem intuitivas e fáceis de usar, reduzindo barreiras para o trabalho com dados.</p>
<p>No contexto deste projeto, será desenvolvida uma plataforma auto-serviço de análise de dados para o DESID baseada em ferramentas open-source: DESID Playground. O <strong>DESID Playground</strong> éum dos principais entregáveis do projeto.</p>
</section>
</section>
<section id="critérios-de-sucesso" class="level3" data-number="3.5">
<h3 data-number="3.5" class="anchored" data-anchor-id="critérios-de-sucesso"><span class="header-section-number">3.5</span> Critérios de Sucesso</h3>
<p>O conceito de nível de maturidade é aplicada por diferentes governos e organizações para avaliar qualitativamente a eficácia das práticas de gestão e análise de dados e monitorar a evolução desses processos. À medida que uma organização avança nos níveis de maturidade, ela implementa práticas de governança de dados mais formalizadas e padronizadas, alcançando maior eficiência, qualidade dos dados e capacidade de inovação.</p>
<table class="table">
<caption>Níveis de Maturidade de Processos de Governança de Dados</caption>
<colgroup>
<col style="width: 8%">
<col style="width: 17%">
<col style="width: 74%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><strong>Nível</strong></th>
<th style="text-align: left;"><strong>Nome</strong></th>
<th style="text-align: left;"><strong>Descrição</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: left;">Inicial</td>
<td style="text-align: left;">Processos ad-hoc, não estruturados e frequentemente caóticos.</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: left;">Repetível</td>
<td style="text-align: left;">Processos gerenciáveis e repetitivos, mas com pouca formalização.</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: left;">Definido</td>
<td style="text-align: left;">Processos documentados, padronizados e integrados.</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: left;">Gerenciado</td>
<td style="text-align: left;">Processos monitorados e controlados, com melhoria contínua baseada em métricas.</td>
</tr>
<tr class="odd">
<td style="text-align: center;">5</td>
<td style="text-align: left;">Otimizado</td>
<td style="text-align: left;">Foco na otimização contínua e no uso de dados para inovação e vantagem competitiva.</td>
</tr>
</tbody>
</table>
<p>Acreditamos que a melhor forma de medir o sucesso deste projeto é através de uma auto-avaliação da equipe beneficiária (CGES/DESID) do nível de maturidade da análise de dados antes e depois do projeto.</p>
<p>A auto-avaliação inicial é um dos entregáveis da próxima etapa do projeto;</p>
</section>
<section id="gestão-de-projeto" class="level3" data-number="3.6">
<h3 data-number="3.6" class="anchored" data-anchor-id="gestão-de-projeto"><span class="header-section-number">3.6</span> Gestão de Projeto</h3>
<p>A gestão do projeto será livremente inspirada na metodologia ágil Scrum:</p>
<ul>
<li><em>sprints</em> de 2 a 3 semanas para cada domínio;</li>
<li>uma reunião de retrospectiva da <em>sprint</em> anterior e planejamento da próxima <em>sprint</em>;</li>
<li>sem reuniões de alinhamento diário;</li>
</ul>
<!-- ### Riscos e Mitigações
- falta ferramentas básicas de colaboração e gestão
- datasus -->
</section>
</section>
<section id="sec-result" class="level2 page-columns page-full" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="sec-result"><span class="header-section-number">4</span> Resultados</h2>
<section id="entregáveis" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="entregáveis"><span class="header-section-number">4.1</span> Entregáveis</h3>
<table class="table">
<colgroup>
<col style="width: 9%">
<col style="width: 16%">
<col style="width: 61%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Entrega</th>
<th style="text-align: left;">Data</th>
<th style="text-align: left;">Produto</th>
<th style="text-align: center;">% Projeto</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">02-Fev-2024</td>
<td style="text-align: left;"><del>Plano de Trabalho</del></td>
<td style="text-align: center;">10%</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">04-Mar-2024</td>
<td style="text-align: left;">Mapeamento de sistemas e processos de geração de dados</td>
<td style="text-align: center;">20%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">01-Abr-2024</td>
<td style="text-align: left;">Descrição da Infraestrutura de Desenvolvimento de Produtos de Dados</td>
<td style="text-align: center;">20%</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">01-Jul-2024</td>
<td style="text-align: left;">Mapeamento de potenciais produtos de dados</td>
<td style="text-align: center;">20%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">06-Dez-2024</td>
<td style="text-align: left;">Apresentação de Produtos de Dados</td>
<td style="text-align: center;">30%</td>
</tr>
</tbody>
</table>
<section id="mapeamento-de-sistemas-e-processos-de-geração-de-dados" class="level4">
<h4 class="anchored" data-anchor-id="mapeamento-de-sistemas-e-processos-de-geração-de-dados">Mapeamento de sistemas e processos de geração de dados</h4>
<ul>
<li>Auto-avaliação do nível de maturidade</li>
<li>Mapeamento produtos de dados atuais</li>
<li>Mapeamento do gap de capacidades</li>
</ul>
</section>
<section id="descrição-da-infraestrutura-de-desenvolvimento-de-produtos-de-dados" class="level4">
<h4 class="anchored" data-anchor-id="descrição-da-infraestrutura-de-desenvolvimento-de-produtos-de-dados">Descrição da Infraestrutura de Desenvolvimento de Produtos de Dados</h4>
<ul>
<li>Especificação DESID Playground</li>
<li>Documentação de processos de desenvolvimento de produtos</li>
<li>Proposta de plano de capacitação</li>
</ul>
</section>
<section id="mapeamento-de-potenciais-produtos-de-dados" class="level4">
<h4 class="anchored" data-anchor-id="mapeamento-de-potenciais-produtos-de-dados">Mapeamento de potenciais produtos de dados</h4>
<ul>
<li>Proposta de catálogo de produtos</li>
</ul>
</section>
<section id="apresentação-de-produtos-de-dados" class="level4">
<h4 class="anchored" data-anchor-id="apresentação-de-produtos-de-dados">Apresentação de Produtos de Dados</h4>
<ul>
<li>1 ou mais produtos do domínio Orçamentos (SIOPS)</li>
<li>1 ou mais produtos do domínio Preços (BPS)</li>
<li>1 ou mais produtos do domínio Custos (ApuraSUS)</li>
<li>1 ou mais produtos do domínio Contas de Saúde (SHA)</li>
<li>Auto-avaliação do nível de maturidade</li>
</ul>
</section>
</section>
<section id="cronograma" class="level3 page-columns page-full" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="cronograma"><span class="header-section-number">4.2</span> Cronograma</h3>
<div class="column-page">
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">gantt
  
  tickInterval 1month
  todayMarker off
  

  title Projeto de Desenvolvimento de Produtos de Dados
  dateFormat  YYYY-MM-DD
  axisFormat %d-%b
  
  
    section Plano de Trabalho
    Concluído            :p1, 2024-01-07, 2024-02-02

    section Mapeamento de sistemas e processos de geração de dados
    Auto-avaliação do nível de maturidade       : m1, after p1, 1w
    Mapeamento produtos de dados atuais        : m2, after m1, 2w
    Mapeamento do gap de capacidades           : m3, after m2, 2024-03-04

    section Descrição da Infraestrutura de Desenvolvimento de Produtos de Dados
    Documentação de processos                  : d1, after m3, 2w
    Especificação DESID Playground             : d2, after d1 , 2024-04-01 
    Proposta de plano de capacitação           : d3, after d1, 2024-04-01

    section Mapeamento de potenciais produtos de dados
    Documentação processo Desenvolvimento      : c1, after d3, 8w
    Proposta de catálogo de produtos           : c2, after c1 , 2024-07-01
    
    section Apresentação de Produtos de Dados
    Produtos do domínio Orçamentos (SIOPS)     : a1, after c2  , 2024-11-25
    Produtos do domínio Preços (BPS)           : a2, after c2  , 2024-11-25
    Produtos do domínio Custos (ApuraSUS)      : a3, after c2  , 2024-11-25
    Produtos do domínio Contas de Saúde (SHA)  : a4, after c2  , 2024-11-25
    Apresentação :after a4, 2024-12-06
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
<a class="quarto-notebook-link" id="nblink-1" href="relatorio-preview.html">Fonte: Article Notebook</a></div>
</div>
</section>
</section>
<section id="sec-conclusao" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="sec-conclusao"><span class="header-section-number">5</span> Conclusão</h2>
<p>Este plano de trabalho representa o primeiro entregável de um projeto ambicioso, cujo objetivo principal é promover a evolução da governança da análise de dados da CGES/DESID.</p>
<p>Esperamos contribuir para uma evolução nas práticas, processos e ferramentas de análise de dados que represente a elevação de pelo menos um nível de maturidade até o término do projeto.</p>
<p>A descrição dos entregáveis e o cronograma apresentado reflete a nossa melhor estimativa para a conclusão das etapas planejadas. No entanto, caso identifiquemos oportunidades para adiantar as entregas sem comprometer a qualidade, certamente o faremos. Este compromisso não apenas reflete a nossa dedicação em atingir os objetivos estabelecidos, mas também em superar as expectativas da equipe.</p>
</section>
<section id="bibliografia" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="bibliografia">Bibliografia</h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-Mazzucato2022" class="csl-entry" role="listitem">
Mazzucato, Mariana. 2022. <em>Missão economia: Um guia inovador para mudar o capitalismo</em>. Companhia das Letras.
</div>
<div id="ref-HowAmazon" class="csl-entry" role="listitem">
McKendrick, Joe. 2015. <span>“How Amazon handles a new software deployment every second”</span>. <a href="https://www.zdnet.com/article/how-amazon-handles-a-new-software-deployment-every-second/" class="uri">https://www.zdnet.com/article/how-amazon-handles-a-new-software-deployment-every-second/</a>; ZDNET.
</div>
<div id="ref-gpw13" class="csl-entry" role="listitem">
Organization, World Health. 2020. <span>“Thirteenth general programme of work (<span>GPW</span>13): methods for impact measurement”</span>. Em <em>Thirteenth general programme of work (<span>GPW</span>13): methods for impact measurement</em>. <a href="https://pesquisa.bvsalud.org/portal/resource/pt/who-341371">https://pesquisa.bvsalud.org/portal/resource/pt/who-341371</a>.
</div>
<div id="ref-pink2010drive" class="csl-entry" role="listitem">
Pink, Daniel H. 2011. <em>Drive: The Surprising Truth About What Motivates Us</em>. Penguin.
</div>
<div id="ref-Schwingel2023" class="csl-entry" role="listitem">
Schwingel, Samara. 2023. <span>“Uma <span>‘cidade’</span> doente: Saúde do <span>DF</span> registrou 10 mil atestados em 4 meses”</span>. Metrópoles. 30 de setembro de 2023. <a href="https://www.metropoles.com/distrito-federal/uma-cidade-doente-saude-do-df-registrou-10-mil-atestados-em-4-meses">https://www.metropoles.com/distrito-federal/uma-cidade-doente-saude-do-df-registrou-10-mil-atestados-em-4-meses</a>.
</div>
<div id="ref-snowflake2020s1" class="csl-entry" role="listitem">
Snowflake. 2020. <span>“Form S-1 Registration Statement”</span>. <a href="https://www.sec.gov/Archives/edgar/data/1640147/000162828020013010/snowflakes-1.htm" class="uri">https://www.sec.gov/Archives/edgar/data/1640147/000162828020013010/snowflakes-1.htm</a>.
</div>
</div>
</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citação</h2><div><div class="quarto-appendix-secondary-label">BibTeX</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@report{guth2024,
  author = {Guth, Frederico},
  editor = {Squeff, Gabriel},
  title = {Plano de Trabalho},
  number = {1},
  date = {2024-02-01},
  langid = {pt-br}
}
</code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">Por favor, cite este trabalho como:</div><div id="ref-guth2024" class="csl-entry quarto-appendix-citeas" role="listitem">
Guth, Frederico. 2024. <span>“Plano de Trabalho.”</span> 1. Edited by
Gabriel Squeff. <em>Consultoria Individual de Ciência de Dados e
Aprendizado de Máquina</em>.
</div></div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiada");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiada");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"selector":".lightbox","openEffect":"zoom","loop":false,"descPosition":"bottom","closeEffect":"zoom"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




</body></html>